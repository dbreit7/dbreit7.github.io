!function(){return function e(t,r,n){function u(l,o){if(!r[l]){if(!t[l]){var i="function"==typeof require&&require;if(!o&&i)return i(l,!0);if(a)return a(l,!0);var p=new Error("Cannot find module '"+l+"'");throw p.code="MODULE_NOT_FOUND",p}var s=r[l]={exports:{}};t[l][0].call(s.exports,function(e){return u(t[l][1][e]||e)},s,s.exports,e,t,r,n)}return r[l].exports}for(var a="function"==typeof require&&require,l=0;l<n.length;l++)u(n[l]);return u}}()({1:[function(e,t,r){var n=e("dirty-json");angular.module("djson",[]).controller("DemoCtrl",["$scope",function(e){e.valid=!1,e.examples=[{name:"Invalid JSON: embedded HTML",content:'{ "key": "<div class="coolCSS">some text</div>" }'},{name:"Valid JSON: Simple",content:'{ "key": "value" }'},{name:"Invalid JSON: Simple",content:"{ key: 'value' }"},{name:"Valid JSON: Complex Object",content:'{ "key": ["value", 0.5, \n\t{ "test": 56, \n\t"test2": [true, null] }\n\t]\n}'},{name:"Invalid JSON: Complex Object",content:'{ key: ["value", .5, \n\t{ "test": 56, \n\t\'test2\': [true, null] }\n\t]\n}'},{name:"Invalid JSON: With newlines",content:'{ "key": "a string\nwith a newline" }'},{name:"Invalid JSON: Floats",content:'{ "no leading zero": .13452 }'},{name:"Invalid JSON: Non-quoted keys",content:'{ "test": here, "another": test }'}],e.selectedExample=e.examples[0],e.input=e.selectedExample.content,e.doParse=function(){var t=n.parse(e.input);e.output=JSON.stringify(t,null,4);try{JSON.parse(e.input),e.valid=!0}catch(t){e.valid=!1}},e.doSelection=function(){e.input=e.selectedExample.content,e.doParse()},e.doParse()}])},{"dirty-json":2}],2:[function(e,t,r){"use strict";let n=e("./parser");t.exports.parse=function(e,t){try{return n.parse(e)}catch(r){if(!1===t)throw r;try{let t=JSON.parse(e);return console.warn("dirty-json got valid JSON that failed with the custom parser. We're returning the valid JSON, but please file a bug report here: https://github.com/RyanMarcus/dirty-json/issues  -- the JSON that caused the failure was: "+e),t}catch(e){throw r}}}},{"./parser":4}],3:[function(e,t,r){"use strict";const n=e("lex"),u=e("unescape-js"),a=(e("utf8"),6),l=7,o=11,i=14,p=[[/:/,-1],[/,/,-2],[/{/,-3],[/}/,13],[/\[/,-4],[/\]/,12],[/\./,-5]];function s(e){return e=e.replace(/\\\//,"/"),u(e)}function f(e,t){let r=function(e){let t=new n,r=0,u=0;return t.addRule(/"((?:\\.|[^"])*)($|")/,(e,t)=>(r+=e.length,{type:o,value:s(t),row:u,col:r})),t.addRule(/'((?:\\.|[^'])*)($|')/,(e,t)=>(r+=e.length,{type:o,value:s(t),row:u,col:r})),t.addRule(/[\-0-9]*\.[0-9]*([eE][\+\-]?)?[0-9]*/,e=>(r+=e.length,{type:a,value:parseFloat(e),row:u,col:r})),t.addRule(/\-?[0-9]+([eE][\+\-]?)[0-9]*/,e=>(r+=e.length,{type:a,value:parseFloat(e),row:u,col:r})),t.addRule(/\-?[0-9]+/,e=>(r+=e.length,{type:l,value:parseInt(e),row:u,col:r})),p.forEach(e=>{t.addRule(e[0],t=>(r+=t.length,{type:e[1],value:t,row:u,col:r}))}),t.addRule(/\s/,e=>{"\n"==e?(r=0,u++):r+=e.length}),t.addRule(/./,e=>(r+=e.length,{type:i,value:e,row:u,col:r})),t.setInput(e),t}(e),u="";for(;u=r.lex();)t(u)}t.exports.lexString=f,t.exports.getAllTokens=function(e){let t=[];return f(e,function(e){t.push(e)}),t}},{lex:5,"unescape-js":7,utf8:8}],4:[function(e,t,r){"use strict";let n=e("./lexer");const u=0,a=1,l=2,o=3,i=4,p=5,s=6,f=7,c=8,h=9,v=10,d=11,y=12,g=13,k=14,x=15,b=-1,w=-2,m=-3,S=-4;function j(e,t){return e&&e.hasOwnProperty("type")&&e.type==t}function O(e){let t=e.pop();switch(t.type){case c:if("true"==t.value)return e.push({type:o,value:"true"}),!0;if("false"==t.value)return e.push({type:o,value:"false"}),!0;if("null"==t.value)return e.push({type:x,value:null}),!0;break;case k:return j(e.peek(),c)?(e.peek().value+=t.value,!0):(e.push({type:c,value:t.value}),!0);case f:return j(t,f)&&j(e.peek(),c)?(e.peek().value+=t.value,!0):(t.type=x,e.push(t),!0);case d:return t.type=x,t.value=t.value,e.push(t),!0;case o:return t.type=x,"true"==t.value?t.value=!0:t.value=!1,e.push(t),!0;case s:return t.type=x,e.push(t),!0;case x:if(j(e.peek(),w))return t.type=p,e.pop(),e.push(t),!0;if(j(e.peek(),b))return t.type=i,e.pop(),e.push(t),!0;if(j(e.peek(),c)&&j(e.last(1),x)){let r=e.pop();return e.peek().value+='"'+r.value+'"',e.peek().value+=t.value,!0}if(j(e.peek(),c)&&j(e.last(1),l)){let r=e.pop(),n=e.peek().value.pop();return n+='"'+r.value+'"',n+=t.value,e.peek().value.push(n),!0}if(j(e.peek(),c)&&j(e.last(1),a)){let r=e.pop(),n=e.peek().value.pop();return n.value+='"'+r.value+'"',n.value+=t.value,e.peek().value.push(n),!0}if(j(e.peek(),c)){let r=e.pop().value;return t.value=r+t.value,e.push(t),!0}break;case h:if(j(t,h)&&j(e.peek(),w))return t.type=p,e.pop(),e.push(t),!0;if(j(e.peek(),b))return t.type=i,e.pop(),e.push(t),!0;break;case v:if(j(e.peek(),w)){let r={type:p,value:t};return e.pop(),e.push(r),!0}if(j(e.peek(),b)){let r={type:i,value:t};return e.pop(),e.push(r),!0}break;case p:return j(e.peek(),l)?(e.peek().value.push(t.value),!0):(e.push({type:l,value:[t.value]}),!0);case l:if(j(e.peek(),x))return t.value.unshift(e.peek().value),e.pop(),e.push(t),!0;if(j(e.peek(),h))return t.value.unshift(e.peek().value),e.pop(),e.push(t),!0;if(j(e.peek(),v))return t.value.unshift(e.peek()),e.pop(),e.push(t),!0;if(j(e.peek(),c)&&(e.last(1),w)){let r=e.pop();for(e.push({type:x,value:r.value}),r.value;O(e););return e.push(t),!0}if(j(e.peek(),l))return e.peek().value.push(t.value[0]),!0;break;case i:if(j(e.peek(),c)||j(e.peek(),x)||j(e.peek(),l)){let r=e.pop();return e.push({type:u,key:r.value,value:t.value}),!0}throw new Error("Got a :value that can't be handled at line "+t.row+":"+t.col);case u:return j(e.last(0),w)&&j(e.last(1),a)?(e.last(1).value.push(t),e.pop(),!0):(e.push({type:a,value:[t]}),!0);case a:if(j(e.peek(),a))return t.value.forEach(function(t){e.peek().value.push(t)}),!0;break;case y:if(j(e.peek(),l)&&j(e.last(1),S)){let t=e.pop();return e.pop(),e.push({type:h,value:t.value}),!0}if(j(e.peek(),h)&&j(e.last(1),S)){let t=e.pop();return e.pop(),e.push({type:h,value:[t.value]}),!0}if(j(e.peek(),S))return e.pop(),e.push({type:h,value:[]}),!0;if(j(e.peek(),x)&&j(e.last(1),S)){let t=e.pop().value;return e.pop(),e.push({type:h,value:[t]}),!0}if(j(e.peek(),v)&&j(e.last(1),S)){let t=e.pop();return e.pop(),e.push({type:h,value:[t]}),!0}if(j(e.peek(),c)&&j(e.last(1),w)){let t=e.pop();for(e.push({type:x,value:t.value}),t.value;O(e););return e.push({type:y}),!0}if(j(e.peek(),w)&&(j(e.last(1),c)||j(e.last(1),v)||j(e.last(1),x))){for(e.pop(),e.push({type:y,value:"]"}),JSON.stringify(e);O(e););return!0}if(j(e.peek(),c)&&j(e.last(1),S)){let t=e.pop();return e.pop(),e.push({type:h,value:[t.value]}),!0}if(j(e.peek(),w)&&j(e.last(1),l)){for(e.pop(),e.push({type:y}),JSON.stringify(e);O(e););return!0}break;case g:if(j(e.peek(),a)&&j(e.last(1),m)){let t=e.pop();return e.pop(),e.push({type:v,value:t.value}),!0}if(j(e.peek(),m))return e.pop(),e.push({type:v,value:null}),!0;if(j(e.peek(),c)&&j(e.last(1),b)){let t=e.pop();for(e.push({type:x,value:t.value}),t.value;O(e););return e.push({type:g}),!0}throw new Error("Found } that I can't handle at line "+t.row+":"+t.col);case w:if(j(e.peek(),w))return!0}return e.push(t),!1}Array.prototype.peek=function(){return this[this.length-1]},Array.prototype.last=function(e){return this[this.length-(1+e)]},t.exports.parse=function(e){let t=[],r=[];n.lexString(e,function(e){r.push(e)});for(let e=0;e<r.length;e++)for(r[e].type,t.push(r[e]);O(t););return function e(t){if(-1!=["boolean","number","string"].indexOf(typeof t))return t;if(null===t)return null;if(Array.isArray(t)){let r=[];for(;t.length>0;)r.unshift(e(t.pop()));return r}if(j(t,v)){let r={};return null===t.value?{}:(t.value.forEach(function(t){r[t.key]=e(t.value)}),r)}if(j(t,h))return e(t.value);return t.value}(t[0])}},{"./lexer":3}],5:[function(e,t,r){function n(e){"function"!=typeof e&&(e=n.defunct);var t=[],r=[],u=0;function a(){for(var e=[],t=0,n=this.state,u=this.index,a=this.input,l=0,o=r.length;l<o;l++){var i=r[l],p=i.start,s=p.length;if(!s||p.indexOf(n)>=0||n%2&&1===s&&!p[0]){var f=i.pattern;f.lastIndex=u;var c=f.exec(a);if(c&&c.index===u){var h=e.push({result:c,action:i.action,length:c[0].length});for(i.global&&(t=h);--h>t;){var v=h-1;if(e[h].length>e[v].length){var d=e[h];e[h]=e[v],e[v]=d}}}}}return e}this.state=0,this.index=0,this.input="",this.addRule=function(e,t,n){var u=e.global;if(!u){var a="g";e.multiline&&(a+="m"),e.ignoreCase&&(a+="i"),e=new RegExp(e.source,a)}return"[object Array]"!==Object.prototype.toString.call(n)&&(n=[0]),r.push({pattern:e,global:u,action:t,start:n}),this},this.setInput=function(e){return u=0,this.state=0,this.index=0,t.length=0,this.input=e,this},this.lex=function(){if(t.length)return t.shift();for(this.reject=!0;this.index<=this.input.length;){for(var r=a.call(this).splice(u),n=this.index;r.length&&this.reject;){var l=r.shift(),o=l.result,i=l.length;this.index+=i,this.reject=!1,u++;var p=l.action.apply(this,o);if(this.reject)this.index=o.index;else if(void 0!==p)switch(Object.prototype.toString.call(p)){case"[object Array]":t=p.slice(1),p=p[0];default:return i&&(u=0),p}}var s=this.input;if(n<s.length){if(this.reject){if(u=0,void 0!==(p=e.call(this,s.charAt(this.index++))))return"[object Array]"===Object.prototype.toString.call(p)?(t=p.slice(1),p[0]):p}else this.index!==n&&(u=0),this.reject=!0}else{if(!r.length)break;this.reject=!0}}}}"object"==typeof t&&"object"==typeof t.exports&&(t.exports=n),n.defunct=function(e){throw new Error("Unexpected character at index "+(this.index-1)+": "+e)}},{}],6:[function(e,t,r){var n,u,a,l;String.fromCodePoint||(n=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}(),u=String.fromCharCode,a=Math.floor,l=function(e){var t,r,n=[],l=-1,o=arguments.length;if(!o)return"";for(var i="";++l<o;){var p=Number(arguments[l]);if(!isFinite(p)||p<0||p>1114111||a(p)!=p)throw RangeError("Invalid code point: "+p);p<=65535?n.push(p):(t=55296+((p-=65536)>>10),r=p%1024+56320,n.push(t,r)),(l+1==o||n.length>16384)&&(i+=u.apply(null,n),n.length=0)}return i},n?n(String,"fromCodePoint",{value:l,configurable:!0,writable:!0}):String.fromCodePoint=l)},{}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("string.fromcodepoint");var n=/\\(u\{([0-9A-Fa-f]+)\}|u([0-9A-Fa-f]{4})|x([0-9A-Fa-f]{2})|([1-7][0-7]{0,2}|[0-7]{2,3})|(['"tbrnfv0\\]))|\\U([0-9A-Fa-f]{8})/g,u={0:"\0",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v","'":"'",'"':'"',"\\":"\\"},a=function(e){return String.fromCodePoint(parseInt(e,16))};r.default=function(e){return e.replace(n,function(e,t,r,n,l,o,i,p){return void 0!==r?a(r):void 0!==n?a(n):void 0!==l?a(l):void 0!==o?(s=o,String.fromCodePoint(parseInt(s,8))):void 0!==p?a(p):u[i];var s})},t.exports=r.default},{"string.fromcodepoint":6}],8:[function(e,t,r){(function(e){!function(n){var u="object"==typeof r&&r,a="object"==typeof t&&t&&t.exports==u&&t,l="object"==typeof e&&e;l.global!==l&&l.window!==l||(n=l);var o,i,p,s=String.fromCharCode;function f(e){for(var t,r,n=[],u=0,a=e.length;u<a;)(t=e.charCodeAt(u++))>=55296&&t<=56319&&u<a?56320==(64512&(r=e.charCodeAt(u++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),u--):n.push(t);return n}function c(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function h(e,t){return s(e>>t&63|128)}function v(e){if(0==(4294967168&e))return s(e);var t="";return 0==(4294965248&e)?t=s(e>>6&31|192):0==(4294901760&e)?(c(e),t=s(e>>12&15|224),t+=h(e,6)):0==(4292870144&e)&&(t=s(e>>18&7|240),t+=h(e,12),t+=h(e,6)),t+=s(63&e|128)}function d(){if(p>=i)throw Error("Invalid byte index");var e=255&o[p];if(p++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function y(){var e,t;if(p>i)throw Error("Invalid byte index");if(p==i)return!1;if(e=255&o[p],p++,0==(128&e))return e;if(192==(224&e)){if((t=(31&e)<<6|d())>=128)return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if((t=(15&e)<<12|d()<<6|d())>=2048)return c(t),t;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=(7&e)<<18|d()<<12|d()<<6|d())>=65536&&t<=1114111)return t;throw Error("Invalid UTF-8 detected")}var g={version:"2.1.2",encode:function(e){for(var t=f(e),r=t.length,n=-1,u="";++n<r;)u+=v(t[n]);return u},decode:function(e){o=f(e),i=o.length,p=0;for(var t,r=[];!1!==(t=y());)r.push(t);return function(e){for(var t,r=e.length,n=-1,u="";++n<r;)(t=e[n])>65535&&(u+=s((t-=65536)>>>10&1023|55296),t=56320|1023&t),u+=s(t);return u}(r)}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return g});else if(u&&!u.nodeType)if(a)a.exports=g;else{var k={}.hasOwnProperty;for(var x in g)k.call(g,x)&&(u[x]=g[x])}else n.utf8=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);
